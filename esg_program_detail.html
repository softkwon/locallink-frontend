<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ESG 프로그램 상세 - ESGlink</title>

    <meta property="og:title" content="ESGlink 프로그램">
    <meta property="og:description" content="ESGlink에서 제공하는 ESG 프로그램을 확인하세요.">
    <meta property="og:image" content="https://esglink.co.kr/images/logo_og.png">

    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/components.css">
    <style>
        body { background-color: #f4f7f9; }
        
        .program-detail-wrapper {
            max-width: 850px;
            margin: 40px auto;
            background-color: #fff;
            border-radius: 12px;
            box-shadow: 0 5px 25px rgba(0,0,0,0.1);
            overflow: hidden;
        }
        .program-header {
            padding: 35px 40px;
            color: white;
        }
        .program-header.category-e { background: linear-gradient(135deg, #237804, #52c41a); }
        .program-header.category-s { background: linear-gradient(135deg, #d48806, #faad14); }
        .program-header.category-g { background: linear-gradient(135deg, #a8071a, #f5222d); }
        .program-header h1 { margin: 0 0 10px 0; font-size: 2.2em; }
        .program-header p { margin: 0; font-size: 1.1em; opacity: 0.9; }
        
        .program-body { padding: 30px 40px; }
        .detail-section { margin-bottom: 40px; }
        .detail-section h4 {
            font-size: 1.3em;
            color: #333;
            border-bottom: 2px solid #007bff;
            padding-bottom: 10px;
            margin: 0 0 20px 0;
        }
        .detail-section p, .detail-section ul { 
            margin: 0; 
            padding: 0; 
            list-style-type: none; 
            font-size: 1em; 
            line-height: 1.8; 
            color: #555;
        }
        
        .content-section-body {
            margin: 40px 0;
        }
        .text-content h3 { 
            margin-top: 20px; /* 이미지와 간격 */
            margin-bottom: 10px;
        }
        .image-content {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            justify-content: center;
            margin-bottom: 25px;
        }
        .image-content img {
            border-radius: 8px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            max-width: 100%;
            height: auto;
        }
        .program-actions-section {
            text-align: right;
            margin-top: 40px;
        }
        .program-footer {
            background-color: #f8f9fa;
            text-align: center;
            padding: 15px;
            font-size: 0.9em;
            color: #6c757d;
            margin-top: 30px;
        }

        /* 레이아웃별 스타일 */
        .layout-img-top .text-content { order: 2; }
        .layout-img-top .image-content { order: 1; margin-bottom: 25px; }

        .layout-img-bottom .text-content { order: 1; }
        .layout-img-bottom .image-content { order: 2; margin-top: 25px; }

        .layout-text-left, .layout-text-right {
            display: flex;
            align-items: center;
            gap: 30px;
        }
        .layout-text-left .text-content, .layout-text-right .text-content { flex: 1; }
        .layout-text-left .image-content, .layout-text-right .image-content { flex: 1; }

        .layout-img-left .text-content { order: 2; }
        .layout-img-left .image-content { order: 1; } 

        /* ==================================
        프로그램 상세 페이지 디자인 개선
        ================================== */

        /* 요청사항 1: 콘텐츠 섹션(이미지+글 세트) 간 구분 강화 */
        /* 요청 1 & 2: 콘텐츠 섹션 구분선 강화 및 간격 확장 */
        .program-body > .content-section-body {
            padding-bottom: 50px;
            margin-bottom: 100px; /* 기존 50px에서 70px로 간격을 더 넓게 */
            border-bottom: 2px solid #89b5e1; /* 기존 #f0f0f0에서 더 잘 보이는 색으로 변경 */
        }
        /* 마지막 섹션에는 구분선이 필요 없으므로 제거합니다. */
        .program-body > .content-section-body:last-child {
            border-bottom: none;
            margin-bottom: 20px; /* 마지막 섹션과 하단 버튼과의 간격 조정 */
        }


        /* --- 연계 단체 섹션 스타일 --- */
        /* <ul> 태그를 Flexbox 컨테이너로 사용하여 태그들을 자동 줄바꿈합니다. */
        .detail-section ul {
            display: flex;
            flex-wrap: wrap;
            gap: 8px 12px; /* 세로 8px, 가로 12px 간격 */
            list-style-type: none;
            padding: 0;
        }

        /* <a> 태그를 알약 형태의 태그 버튼처럼 디자인합니다. */
        .detail-section ul a {
            display: inline-block;
            text-decoration: none;
            background-color: #f1f3f5; /* 부드러운 회색 배경 */
            color: #495057;
            padding: 6px 16px; /* 내부 여백 */
            border-radius: 16px;  /* 알약 형태 */
            font-size: 0.95em;
            font-weight: 500;
            border: 1px solid #dee2e6;
            transition: all 0.2s ease-in-out;
        }

        /* 마우스를 올리면 색상과 위치가 살짝 변하는 효과 */
        .detail-section ul a:hover {
            background-color: #e9ecef;
            border-color: #ced4da;
            color: #000;
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0,0,0,0.05);
        }


        /* 요청사항 3: '방치 리스크'와 '개선시 기대효과' 박스 스타일 */
        .risk-box,
        .benefit-box {
            padding: 25px 30px;
            margin-top: 20px;
            border-radius: 8px;
            border: 1px solid transparent;
        }
        /* '방치 리스크' 박스 - 옅은 붉은색 계열 */
        .risk-box {
            background-color: #fff1f0;
            border-color: #ffa39e;
        }
        .risk-box h4 {
            color: #cf1322; /* 제목 색상 */
            border-bottom-color: rgba(207, 19, 34, 0.2); /* 제목 밑줄도 같은 계열로 */
        }
        .risk-box p, .risk-box ul {
            color: #595959; /* 본문 내용 색상 */
        }

        /* '개선시 기대효과' 박스 - 옅은 파란색 계열 */
        .benefit-box {
            background-color: #e6f7ff;
            border-color: #91d5ff;
        }
        .benefit-box h4 {
            color: #096dd9; /* 제목 색상 */
            border-bottom-color: rgba(9, 109, 217, 0.2); /* 제목 밑줄도 같은 계열로 */
        }
        .benefit-box p, .benefit-box ul {
            color: #595959; /* 본문 내용 색상 */
        }

        /* 2. 버튼 양쪽 정렬을 위한 레이아웃 수정 */
        .program-actions-section {
            /* 기존 text-align: right; 대신 flexbox 사용 */
            display: flex;
            justify-content: space-between; /* 양쪽 끝으로 요소를 배치 */
            align-items: center;
            margin-top: 40px;
        }

        /* 1. 신청하기 등 기존 버튼 가시성 향상 */
        .program-actions-section .action-btn {
            padding: 14px 30px; /* 버튼 크기 키움 */
            font-size: 1.1em;   /* 글자 크기 키움 */
            font-weight: bold;
            transition: transform 0.2s ease;
        }
        .program-actions-section .action-btn:hover {
            transform: scale(1.05); /* 호버 시 살짝 커지는 효과 */
        }

        /* 새로 추가될 '바로가기' 버튼을 위한 스타일 (a 태그) */
        .program-actions-section .button-secondary {
            padding: 12px 24px;
        }
        /* '바로가기' 버튼 호버 효과 */
        .program-actions-section a.button-secondary:hover {
            background-color: #d4efff;
            border-color: #69c0ff;
        }

        /* 요청 3: '바로가기' 버튼 크기 및 색상 조정 */
        .program-actions-section a.button-secondary {
            padding: 10px 22px; /* 버튼 크기 살짝 줄임 */
            font-size: 0.95em;  /* 글자 크기 살짝 줄임 */
            
            /* 옅은 파란색 계열로 색상 변경 */
            background-color: #ebf0b9;
            color: #515205;
            border: 1px solid #e0ea89; /* 색상에 맞는 테두리 추가 */
        }

        /* ▼▼▼ 공유 버튼 스타일 추가 ▼▼▼ */
            .program-header {
            position: relative; /* 공유 버튼의 기준점 */
            }
            .share-container {
            position: absolute;
            top: 10px;
            right: 10px;
            }
            .share-button {
            background: none;
            border: none;
            font-size: 1.5rem; /* 아이콘 크기 */
            cursor: pointer;
            padding: 5px;
            color: #ffffff; /* 기존 white 에서 어두운 회색으로 변경 */
            }
            .share-dropdown {
            display: none;
            position: absolute;
            top: 100%; /* 버튼 아래로 펼쳐지도록 설정 */
            right: 0;
            background: white;
            border: 1px solid #ddd;
            border-radius: 5px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            z-index: 10;
            margin-top: 5px; /* 버튼과의 간격 */
            }
            .share-dropdown a {
            display: block;
            padding: 8px 15px;
            color: #333;
            text-decoration: none;
            white-space: nowrap;
            }
            .share-dropdown a:hover {
            background-color: #f5f5f5;
            }

            /* 공유 버튼 클릭 시 드롭다운 표시 */
            .share-button.active + .share-dropdown {
                display: block;
            }

            /* '서비스 비용 안내' 버튼이 속한 전체 액션 바 */
            .program-actions-section {
                display: flex;
                justify-content: space-between;
                align-items: center;
                margin-top: 40px;
                padding-top: 25px;
                border-top: 1px solid #e9ecef;
            }
            .actions-group {
                display: flex;
                gap: 10px;
            }

            /* 모달창 스타일 (가시성 개선) */
            #service-cost-modal { 
                display: none; 
                position: fixed; 
                z-index: 1000; 
                left: 0; top: 0; 
                width: 100%; 
                height: 100%; 
                overflow: auto; 
                background-color: rgba(0,0,0,0.5); 
            }
            #service-cost-modal .modal-content {
                max-width: 800px; /* 모달 너비 */
            }

            /* 모달 내용 영역 */
            .cost-modal-body {
                padding: 10px 25px 25px 25px;
            }

            /* 2단 그리드 레이아웃 */
            .cost-modal-grid {
                display: grid;
                grid-template-columns: 1fr 1.5fr; /* 왼쪽과 오른쪽을 1:1.5 비율로 나눔 */
                gap: 25px;
                align-items: start;
            }
            .cost-column {
                padding: 20px;
                border-radius: 8px;
            }
            .cost-column h4 {
                margin-top: 0;
                margin-bottom: 15px;
                font-size: 1.2em;
                padding-bottom: 10px;
                border-bottom: 1px solid rgba(0,0,0,0.1);
            }

            /* 왼쪽 박스: 옅은 붉은색 계열 */
            .cost-column.cost-existing {
                background-color: #fff1f0;
                border: 1px solid #ffa39e;
            }
            .cost-column.cost-existing h4 { color: #cf1322; }

            /* 오른쪽 박스: 옅은 파란색 계열 */
            .cost-column.cost-service {
                background-color: #e6f7ff;
                border: 1px solid #91d5ff;
            }
            .cost-column.cost-service h4 { color: #096dd9; }

            /* 테이블 스타일 */
            .cost-column table {
                width: 100%;
                border-collapse: collapse;
                background-color: transparent; /* 부모 박스 색상이 비치도록 */
            }
            .cost-column th, 
            .cost-column td {
                padding: 10px 5px;
                text-align: left;
                border-bottom: 1px solid rgba(0,0,0,0.08);
            }
            .cost-column tbody tr:last-child td {
                border-bottom: none; /* 마지막 행의 밑줄은 제거 */
            }
            .cost-column th {
                font-weight: 600;
            }
            .existing-cost-card {
                background: #f8f9fa;
                border: 1px solid #dee2e6;
                padding: 20px;
                border-radius: 8px;
                text-align: center;
            }
            .existing-cost-card .cost-label {
                font-size: 1em;
                color: #495057;
                font-weight: bold;
            }
            .existing-cost-card .cost-value {
                font-size: 1.6em;
                font-weight: bold;
                color: #0056b3;
                margin-top: 10px;
                word-break: keep-all;
            }
            
    </style>
</head>
<body>
    <div id="program-detail-container">
        <p style="text-align:center; padding: 50px;">프로그램 정보를 불러오는 중입니다...</p>
    </div>
    <div id="service-cost-modal" class="modal">
        <div class="modal-content large">
            <span class="close-btn">&times;</span>
            <div id="service-cost-modal-content">
                </div>
        </div>
    </div>
    <div id="non-user-application-modal" class="modal">
        <div class="modal-content">
            <span class="close-btn">&times;</span>
            <h2>프로그램 문의 및 신청</h2>
            <p>담당자가 확인 후 신속하게 연락드리겠습니다.</p><br>
            <form id="non-user-application-form">
                <input type="hidden" id="inquiry-program-id" name="programId">
                <input type="hidden" id="inquiry-program-title" name="programTitle">
                <div class="form-group">
                    <label for="inquiry-company-name">회사명 *</label>
                    <input type="text" id="inquiry-company-name" name="companyName" class="form-control" required>
                </div>
                <div class="form-group">
                    <label for="inquiry-contact-person">담당자명 *</label>
                    <input type="text" id="inquiry-contact-person" name="contactPerson" class="form-control" required>
                </div>
                <div class="form-group">
                    <label for="inquiry-phone">연락처 *</label>
                    <input type="tel" id="inquiry-phone" name="phone" class="form-control" required>
                </div>
                <div class="form-group">
                    <label for="inquiry-email">이메일 *</label>
                    <input type="email" id="inquiry-email" name="email" class="form-control" required>
                </div>
                <div class="form-group">
                    <label for="inquiry-content">문의 내용<br>(신청하실 프로그램명을 기입해주세요)</label>
                    <textarea id="inquiry-content" name="content" class="form-control" rows="4"></textarea>
                </div>
                <div class="form-actions">
                    <button type="submit" class="button-primary">문의하기</button>
                </div>
            </form>
        </div>
    </div>

    <script src="https://t1.kakaocdn.net/kakao_js_sdk/2.7.2/kakao.min.js"></script>
    <script>
        try {
            Kakao.init('1cabc61a192c60eb189e387019886477');
        } catch(e) {
            console.error("Kakao SDK 초기화 실패:", e);
        }
    </script>
    <script type="module" src="js/auth.js" defer></script>
    <script type="module" src="js/esg_program_detail.js" defer></script>
</body>
</html>